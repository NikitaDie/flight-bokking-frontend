<div class="main">
  <div class="tableParamsInput">
    <input type="number" min="1" max="40" #rowBox (keyup.enter)="update(Number(rowBox.value), 'rowBox')"
           (blur)="update(Number(rowBox.value), 'rowBox')" placeholder="Count of rows">
    <input type="number" min="1" max="15" #colBox (keyup.enter)="update(Number(colBox.value), 'colBox')"
           (blur)="update(Number(colBox.value), 'colBox')" placeholder="Count of columns">
  </div>
  <div class="drag-area">
    <table #seatmapTable range-selection>
      <thead>
      <tr>
        <th></th>
        <th *ngFor="let col of columns">{{ col }}</th>
      </tr>
      </thead>
      <tbody cdkDropListGroup>
      <tr *ngFor="let row of rows">
        <td class="rowsNumber">{{ row + 1 }}</td>
        <td *ngFor="let col of columns" cdkDropList
            (cdkDropListDropped)="onDrop($event, row,col.charCodeAt(0) - 65)"
            [cdkDropListEnterPredicate]="canDrop(row, col.charCodeAt(0) - 65)"
            (mousedown)="startSelection($event, row, col.charCodeAt(0) - 65)"
            (mouseup)="endSelection($event, row, col.charCodeAt(0) - 65)">
          <ng-container *ngIf="isSeat(row, col.charCodeAt(0) - 65)">
            <ng-container *ngIf="isSeatReserved(row, col.charCodeAt(0) - 65)">
              <input type="checkbox" class="reserved" checked disabled cdkDrag
                     (cdkDragStarted)="onDragStarted($event, row, col.charCodeAt(0) - 65)">
            </ng-container>
            <ng-container *ngIf="!isSeatReserved(row, col.charCodeAt(0) - 65)">
              <input type="checkbox" class="available" cdkDrag
                     (cdkDragStarted)="onDragStarted($event, row, col.charCodeAt(0) - 65)">
            </ng-container>
          </ng-container>
          <ng-container *ngIf="!isSeat(row, col.charCodeAt(0) - 65)">
          </ng-container>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
